semWait userInput
assign a seif
assign b input
semSignal userInput
semWait file
writeFile a b
semSignal file